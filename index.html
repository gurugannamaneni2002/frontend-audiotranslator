<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real-Time Audio Translator</title>
    <link rel="stylesheet" href="style.css">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="container">
        <h1>Real-Time Audio Translator</h1>
        
        <div class="user-profile">
            <div class="avatar-container">
                <div class="avatar" id="userAvatar"></div>
                <input type="text" id="username" placeholder="Your Name" maxlength="15">
            </div>
        </div>
        
        <div class="connection-controls">
            <h3>Connection</h3>
            <button id="createRoomBtn" class="primary-btn">
                <i class="fas fa-plus-circle"></i> Create Room
            </button>
            <div class="join-room">
                <input type="text" id="roomInput" placeholder="Enter Room ID">
                <button id="joinRoomBtn" class="primary-btn">
                    <i class="fas fa-sign-in-alt"></i> Join Room
                </button>
            </div>
            <div id="roomInfo">
                <p>Room ID: <span id="roomIdDisplay">Not connected</span></p>
                <p>Status: <span id="connectionStatus">Disconnected</span></p>
            </div>
        </div>
        
        <div class="language-settings">
            <div class="language-selector">
                <label for="sourceLanguage">I speak:</label>
                <select id="sourceLanguage">
                    <!-- Will be populated dynamically -->
                </select>
            </div>
            <div class="language-selector">
                <label for="targetLanguage">Translate to:</label>
                <select id="targetLanguage">
                    <!-- Will be populated dynamically -->
                </select>
            </div>
            <!-- Add this inside the language-settings div -->
            <div class="audio-settings">
                <label for="autoPlayAudio">
                    <input type="checkbox" id="autoPlayAudio">
                    Auto-play translation audio
                </label>
            </div>
        </div>
        
        <div class="recording-controls">
            <h3>Voice Recognition</h3>
            <div class="continuous-mode">
                <label for="continuousListening">
                    <input type="checkbox" id="continuousListening">
                    Continuous listening mode
                </label>
            </div>
            <div class="controls">
                <button id="startRecording" disabled class="action-btn">
                    <i class="fas fa-microphone"></i> Start Recording
                </button>
                <button id="stopRecording" disabled class="action-btn">
                    <i class="fas fa-stop-circle"></i> Stop Recording
                </button>
            </div>
            <p id="recordingStatus">Ready to record</p>
        </div>
        
        <div class="communication-container">
            <div class="transcript-container">
                <h3>Your Speech</h3>
                <div class="speaking-indicator" id="youSpeakingIndicator">
                    <i class="fas fa-volume-up"></i> You are speaking...
                </div>
                <div id="transcript" class="transcript"></div>
            </div>
            
            <div class="received-container">
                <h3>Received Messages</h3>
                <div class="speaking-indicator" id="peerSpeakingIndicator">
                    <i class="fas fa-volume-up"></i> <span id="peerName">Peer</span> is speaking...
                </div>
                <div id="receivedMessages" class="transcript"></div>
            </div>
        </div>
        
        <div class="translation-status">
            <p id="translationStatus"></p>
        </div>
    </div>
    
    <script src="app.js"></script>
</body>
</html>
